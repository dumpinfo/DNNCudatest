;  Test orthogonalization

NAME = rand1
GENERATE = 100 NORMAL 0.0 0.1
NAME = rand2
GENERATE = 100 NORMAL 0.0 1.0
NAME = rand3
GENERATE = 100 NORMAL 0.0 10.0

DISPLAY = rand1
DISPLAY = rand2
DISPLAY = rand3

INPUT = rand1
INPUT = rand2
INPUT = rand3
CLASS = class
CUMULATE TRAINING SET

;  Start with PRINCIPAL COMPONENTS

ORTHOGONALIZATION TYPE = PRINCIPAL COMPONENTS
ORTHOGONALIZATION FACTORS = 3
ORTHOGONALIZATION LIMIT = 100.0
ORTHOGONALIZATION STANDARDIZE = YES
DEFINE ORTHOGONALIZATION = temp
SAVE ORTHOGONALIZATION = temp to p3.ort
NAME = princo1 , princo2 , princo3
APPLY ORTHOGONALIZATION = temp
DISPLAY = princo1
DISPLAY = princo2
DISPLAY = princo3

ORTHOGONALIZATION FACTORS = 2
ORTHOGONALIZATION LIMIT = 100.0
ORTHOGONALIZATION STANDARDIZE = YES
DEFINE ORTHOGONALIZATION = temp
SAVE ORTHOGONALIZATION = temp to p2.ort
NAME = p1a , p2a , p3az
APPLY ORTHOGONALIZATION = temp
DISPLAY = p1a
DISPLAY = p2a
DISPLAY = p3az

ORTHOGONALIZATION FACTORS = 3
ORTHOGONALIZATION LIMIT = 20.0
ORTHOGONALIZATION STANDARDIZE = YES
DEFINE ORTHOGONALIZATION = temp
SAVE ORTHOGONALIZATION = temp to p1.ort
NAME = p1b , p2bz , p3bz
APPLY ORTHOGONALIZATION = temp
DISPLAY = p1b
DISPLAY = p2bz
DISPLAY = p3bz

ORTHOGONALIZATION FACTORS = 3
ORTHOGONALIZATION LIMIT = 100.0
ORTHOGONALIZATION STANDARDIZE = NO
DEFINE ORTHOGONALIZATION = temp
NAME = p1nstd , p2nstd , p3nstd
APPLY ORTHOGONALIZATION = temp
DISPLAY = p1nstd
DISPLAY = p2nstd
DISPLAY = p3nstd

;  Now switch to CENTROIDS

NAME = rand1a
GENERATE = 100 NORMAL -10.0 0.1
NAME = rand2a
GENERATE = 100 NORMAL 0.0 1.0
NAME = rand3a
GENERATE = 100 NORMAL 10.0 10.0

CLEAR INPUT LIST
INPUT = rand1a
INPUT = rand2a
INPUT = rand3a
CLASS = class2
CUMULATE TRAINING SET

ORTHOGONALIZATION TYPE = CENTROIDS

ORTHOGONALIZATION FACTORS = 3
ORTHOGONALIZATION LIMIT = 100.0
ORTHOGONALIZATION STANDARDIZE = NO
DEFINE ORTHOGONALIZATION = temp
SAVE ORTHOGONALIZATION = temp to c.ort
NAME = cent1 , centz    ; Second should be set to zeros
APPLY ORTHOGONALIZATION = temp
DISPLAY = cent1
DISPLAY = centz
CLEAR INPUT LIST
INPUT = rand1
INPUT = rand2
INPUT = rand3
NAME = cent2
APPLY ORTHOGONALIZATION = temp
DISPLAY = cent2

;  Finish with DISCRIMINANT

ORTHOGONALIZATION TYPE = DISCRIMINANT

ORTHOGONALIZATION FACTORS = 3
ORTHOGONALIZATION LIMIT = 100.0
DEFINE ORTHOGONALIZATION = temp
SAVE ORTHOGONALIZATION = temp to d.ort
NAME = dis1 , disz    ; Second should be set to zeros
APPLY ORTHOGONALIZATION = temp
DISPLAY = dis1
DISPLAY = disz
CLEAR INPUT LIST
INPUT = rand1a
INPUT = rand2a
INPUT = rand3a 
NAME = dis2
APPLY ORTHOGONALIZATION = temp
DISPLAY = dis2

;  All three types have been tested.  Restore and verify.

CLEAR INPUT LIST
INPUT = rand1
INPUT = rand2
INPUT = rand3

RESTORE ORTHOGONALIZATION = temp FROM p3.ort
NAME = rprinco1 , rprinco2 , rprinco3
APPLY ORTHOGONALIZATION = temp
DISPLAY = rprinco1
DISPLAY = rprinco2
DISPLAY = rprinco3

RESTORE ORTHOGONALIZATION = temp FROM p2.ort
NAME = rp1a , rp2a , rp3az
APPLY ORTHOGONALIZATION = temp
DISPLAY = rp1a
DISPLAY = rp2a
DISPLAY = rp3az

RESTORE ORTHOGONALIZATION = temp FROM p1.ort
NAME = rp1b , rp2bz , rp3bz
APPLY ORTHOGONALIZATION = temp
DISPLAY = rp1b
DISPLAY = rp2bz
DISPLAY = rp3bz

RESTORE ORTHOGONALIZATION = temp FROM c.ort
CLEAR INPUT LIST
INPUT = rand1a
INPUT = rand2a
INPUT = rand3a
NAME = rcent1 , rcentz    ; Second should be set to zeros
APPLY ORTHOGONALIZATION = temp
DISPLAY = rcent1
DISPLAY = rcentz
CLEAR INPUT LIST
INPUT = rand1
INPUT = rand2
INPUT = rand3
NAME = rcent2
APPLY ORTHOGONALIZATION = temp
DISPLAY = rcent2

RESTORE ORTHOGONALIZATION = temp FROM d.ort
NAME = rdis1 , rdisz    ; Second should be set to zeros
APPLY ORTHOGONALIZATION = temp
DISPLAY = rdis1
DISPLAY = rdisz
CLEAR INPUT LIST
INPUT = rand1a
INPUT = rand2a
INPUT = rand3a 
NAME = rdis2
APPLY ORTHOGONALIZATION = temp
DISPLAY = rdis2
